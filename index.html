<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Poke House ‚Äì Monte a Bowl</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'bounce-in': 'bounceIn 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) both',
                        'shake': 'shake 0.8s cubic-bezier(.36,.07,.19,.97) both',
                    },
                    keyframes: {
                        bounceIn: {
                            '0%': { opacity: '0', transform: 'scale3d(0.3, 0.3, 0.3)' },
                            '20%': { transform: 'scale3d(1.1, 1.1, 1.1)' },
                            '40%': { transform: 'scale3d(0.9, 0.9, 0.9)' },
                            '60%': { opacity: '1', transform: 'scale3d(1.03, 1.03, 1.03)' },
                            '80%': { transform: 'scale3d(0.97, 0.97, 0.97)' },
                            '100%': { opacity: '1', transform: 'scale3d(1, 1, 1)' }
                        },
                        shake: {
                            '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                            '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                            '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                            '40%, 60%': { transform: 'translate3d(4px, 0, 0)' }
                        }
                    }
                }
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        body { margin: 0; overflow: hidden; background-color: #ffe6f2; touch-action: manipulation; }
        .backdrop-blur-md { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
        
        /* Scrollbar personalizada */
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.05); border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #7da9e3; border-radius: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #404fc2; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // --- √çCONES ---
        const IconHome = ({ size = 20 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        );
        const IconArrowLeft = ({ size = 20 }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>
        );

        // --- DADOS ---
        const INGREDIENTS_DB = {
            bases: ["Arroz de sushi", "Arroz preto", "Quinoa", "Arroz basmati", "Coconut Basmati", "Espinafres", "Winter Salad"],
            sauces_base: ["Azeite", "Azeite de Lim√£o", "Vinagrete", "Ponzu", "Sriracha Mayo", "N√£o leva"],
            greens: [
                "Batata Doce com Alecrim", "Br√≥colis", "Pickle Cebola", "Beterraba", "Cenoura c/ Soja", "Milho", "Abacaxi",
                "Edamame", "Tomate cherry", "Couve roxa", "Courgette", "Cenoura", "Grana Padano", "Pepino", "Feta",
                "Jalape√±os", "Azeitonas", "Abacate", "Philadelphia", "Wakame", "Manga", "Hummus", "Tomate"
            ],
            proteins: [
                "Salm√£o Braseado", "Fil√© de Salm√£o", "Frango Vietnamita", "Camar√£o Panado", "Frango", "Frango Teriyaki",
                "Camar√£o", "Juicy Salmon", "Juicy Tuna", "Salm√£o", "Atum", "Tofu Grelhado", "Ovo", "N√£o leva"
            ],
            sauces_final: [
                "Creamy Caesar", "Creme de Abacate", "Spicy Peanuts", "Mel", "Chipotle", "S√©samo Shoyu", "Sriracha Mayo",
                "Wasabi Mayo", "Azeite", "Azeite de Lim√£o", "Manjeric√£o e Hortel√£", "Vinagrete", "Soja", "Teriyaki",
                "Ponzu", "Especial", "Mint"
            ],
            crispies: [
                "Cebola frita", "Ervilhas Wasabi", "Algas Nori", "Am√™ndoa", "Batata Doce", "Lima", "Bacon", "Croutons",
                "Alho Crocante", "Batata Doce Crocante", "N√£o leva", "Cebola Crocante"
            ],
            sesame: ["Sim", "N√£o"]
        };

        const RECIPES = [
            // Corrigido: Creme de Abacate, Sriracha Mayo (padronizado), Cenoura c/ Soja, Batata Doce Crocante
            { id: 1, name: "Sunny Salmon üåû", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Abacate", "Couve roxa", "Edamame"], protein: ["Juicy Salmon", "Juicy Salmon"], sauce_final: ["Especial", "Creme de Abacate"], crispy: ["N√£o leva"], sesame: ["Sim"] },
            { id: 2, name: "Spicy Tuna üêü", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Couve roxa", "Pepino", "Cenoura"], protein: ["Atum", "Atum"], sauce_final: ["Ponzu", "Spicy Peanuts"], crispy: ["Cebola frita"], sesame: ["Sim"] },
            { id: 3, name: "Vegetarian üåø", base: ["Arroz basmati", "Arroz basmati"], sauce_base: ["N√£o leva"], greens: ["Abacate", "Hummus", "Hummus", "Tomate", "Pepino", "Azeitonas"], protein: ["N√£o leva"], sauce_final: ["Mint"], crispy: ["Batata Doce Crocante"], sesame: ["Sim"] },
            { id: 4, name: "Chicken üêî", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Couve roxa", "Tomate cherry", "Courgette"], protein: ["Frango Teriyaki", "Frango Teriyaki"], sauce_final: ["Teriyaki", "Sriracha Mayo"], crispy: ["Am√™ndoa"], sesame: ["Sim"] },
            { id: 5, name: "Fire Salmon üî•", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["Sriracha Mayo"], greens: ["Jalape√±os", "Tomate cherry", "Pepino"], protein: ["Salm√£o", "Salm√£o"], sauce_final: ["Sriracha Mayo"], crispy: ["Cebola frita"], sesame: ["Sim"] },
            { id: 6, name: "Mixed Seas üåä", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Manga", "Wakame", "Cenoura", "Pickle Cebola"], protein: ["Atum", "Salm√£o"], sauce_final: ["Ponzu"], crispy: ["Ervilhas Wasabi"], sesame: ["Sim"] },
            { id: 7, name: "Crispy Shrimp ü¶ê", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Abacate", "Philadelphia", "Manga", "Pepino"], protein: Array(8).fill("Camar√£o Panado"), sauce_final: ["Teriyaki", "Sriracha Mayo"], crispy: ["Algas Nori"], sesame: ["Sim"] },
            { id: 8, name: "Salmon Sushi üç£", base: ["Arroz de sushi", "Arroz de sushi"], sauce_base: ["N√£o leva"], greens: ["Abacate", "Philadelphia", "Edamame"], protein: ["Salm√£o Braseado", "Salm√£o Braseado"], sauce_final: ["Teriyaki"], crispy: ["Cebola Crocante"], sesame: ["Sim"] },
            { id: 9, name: "The Caesar ü•ó", base: ["Winter Salad", "Winter Salad", "Winter Salad"], sauce_base: ["Vinagrete"], greens: ["Tomate", "Tomate", "Grana Padano"], protein: ["Frango", "Frango", "Frango"], sauce_final: ["Creamy Caesar"], crispy: ["Bacon", "Croutons"], sesame: ["N√£o"] },
            { id: 10, name: "Exotic Salmon ü•ó", base: ["Coconut Basmati", "Espinafres", "Espinafres", "Espinafres"], sauce_base: ["Azeite de Lim√£o"], greens: ["Batata Doce com Alecrim", "Batata Doce com Alecrim", "Br√≥colis", "Abacate"], protein: ["Fil√© de Salm√£o", "Fil√© de Salm√£o", "Fil√© de Salm√£o"], sauce_final: ["Sriracha Mayo"], crispy: ["N√£o leva"], sesame: ["Sim"] },
            { id: 11, name: "Velvet Garden ü•ó", base: ["Winter Salad", "Winter Salad", "Winter Salad"], sauce_base: ["Vinagrete"], greens: ["Cenoura c/ Soja", "Beterraba", "Azeitonas", "Pickle Cebola", "Feta", "Feta", "Feta"], protein: ["N√£o leva"], sauce_final: ["Manjeric√£o e Hortel√£"], crispy: ["N√£o leva"], sesame: ["Sim"] },
            { id: 12, name: "Cozy Chicken ü•ó", base: ["Coconut Basmati", "Espinafres", "Espinafres"], sauce_base: ["Azeite de Lim√£o"], greens: ["Br√≥colis", "Batata Doce com Alecrim", "Couve roxa", "Courgette"], protein: ["Frango Vietnamita", "Frango Vietnamita", "Frango Vietnamita"], sauce_final: ["Soja"], crispy: ["N√£o leva"], sesame: ["Sim"] }
        ];

        const PHASES = [
            { key: "base", title: "1Ô∏è‚É£ ‚Äì Base:", hint: "Escolha as bases." },
            { key: "sauce_base", title: "2Ô∏è‚É£ ‚Äì Molho da base:", hint: "Escolha o molho." },
            { key: "greens", title: "3Ô∏è‚É£ ‚Äì Greens:", hint: "Escolha os greens." },
            { key: "protein", title: "4Ô∏è‚É£ ‚Äì Prote√≠na:", hint: "Escolha as prote√≠nas." },
            { key: "sauce_final", title: "5Ô∏è‚É£ ‚Äì Molho final:", hint: "Escolha os molhos." },
            { key: "crispy", title: "6Ô∏è‚É£ ‚Äì Crispy:", hint: "Escolha UM crispy." },
            { key: "sesame", title: "7Ô∏è‚É£ ‚Äì S√©samo:", hint: "Essa Bowl leva s√©samo?" },
        ];

        // --- L√ìGICA DE SOM ---
        const playSound = (type) => {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return;
            const ctx = new AudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            
            const now = ctx.currentTime;
            if (type === "happy") {
                osc.type = "sine";
                osc.frequency.setValueAtTime(600, now);
                osc.frequency.exponentialRampToValueAtTime(1200, now + 0.1);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(); osc.stop(now + 0.1);
            } else {
                osc.type = "sawtooth";
                osc.frequency.setValueAtTime(300, now);
                osc.frequency.linearRampToValueAtTime(150, now + 0.3);
                gain.gain.setValueAtTime(0.1, now);
                gain.gain.linearRampToValueAtTime(0.01, now + 0.3);
                osc.start(); osc.stop(now + 0.3);
            }
        };

        // --- FUNDO (MAR) ---
        const OceanBackground = () => {
            const canvasRef = React.useRef(null);
            React.useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext("2d");
                const waves = [
                    { color: "#FF7CA8", baseYFactor: 0.9, amplitude: 4, wavelength: 40, speed: 0.6 },
                    { color: "#FFA3C2", baseYFactor: 0.8, amplitude: 3, wavelength: 55, speed: 0.35 },
                    { color: "#FFD0E3", baseYFactor: 0.7, amplitude: 2, wavelength: 70, speed: 0.18 },
                ];
                let fishes = []; let splashes = [];
                const createFish = (stagger=0) => ({ jumping: false, jumpTime: 0, nextSpawn: 120+Math.random()*240+stagger, x:0, y:0, baseY:0, jumpDuration:70+Math.random()*40, jumpHeight:22+Math.random()*18, sizeScale:0.8+Math.random()*1.2 });
                for(let i=0; i<6; i++) fishes.push(createFish(i*20));

                const resize = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; };
                window.addEventListener("resize", resize); resize();

                const loop = (now) => {
                    const t = now/1000; ctx.fillStyle = "#FFE6F2"; ctx.fillRect(0, 0, canvas.width, canvas.height);
                    waves.forEach((w,i) => { if(i!==0) drawWave(ctx,w,t,canvas.width,canvas.height); });
                    fishes.forEach(f => updateFish(f, canvas.width, canvas.height, waves[1], splashes));
                    splashes = splashes.filter(s => s.particles.length > 0);
                    splashes.forEach(s => updateAndDrawSplash(ctx, s));
                    fishes.forEach(f => { if(f.jumping) drawFish(ctx, f); });
                    drawWave(ctx, waves[0], t, canvas.width, canvas.height);
                    requestAnimationFrame(loop);
                };
                requestAnimationFrame(loop);
                return () => window.removeEventListener("resize", resize);
            }, []);
            return <canvas ref={canvasRef} style={{position:'fixed', top:0, left:0, width:'100%', height:'100%', zIndex:-1}} />;
        };

        function drawWave(ctx,w,t,width,height){ ctx.fillStyle=w.color; ctx.beginPath(); ctx.moveTo(0,height); const baseY=height*w.baseYFactor; for(let x=0;x<=width;x+=10) ctx.lineTo(x,baseY+Math.sin(x/w.wavelength+t*w.speed)*w.amplitude); ctx.lineTo(width,height); ctx.fill(); }
        function updateFish(f,w,h,wave,splashes){ if(!f.jumping){ f.nextSpawn--; if(f.nextSpawn<=0){ f.jumping=true; f.jumpTime=0; f.x=20+Math.random()*(w-40); f.baseY=h*wave.baseYFactor-5; f.nextSpawn=240+Math.random()*240; } }else{ f.jumpTime++; const t=f.jumpTime/f.jumpDuration; f.y=f.baseY-Math.sin(Math.PI*t)*f.jumpHeight; if(t>=1){ f.jumping=false; splashes.push({particles:Array(6).fill(0).map(()=>({x:f.x,y:f.baseY,vx:(Math.random()-0.5)*2,vy:-Math.random()*3-1,life:30}))}); } } }
        function drawFish(ctx,f){ ctx.font=`${Math.max(14,f.sizeScale*20)}px sans-serif`; ctx.fillText("üêü",f.x,f.y); }
        function updateAndDrawSplash(ctx,s){ s.particles.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.2; p.life--; ctx.fillStyle=`rgba(255,255,255,${p.life/30})`; ctx.fillRect(p.x,p.y,2,2); }); }

        // --- APP ---
        function App() {
            const [gameState, setGameState] = React.useState("HOME");
            const [selectedRecipe, setSelectedRecipe] = React.useState(null);
            const [currentPhaseIndex, setCurrentPhaseIndex] = React.useState(0);
            const [currentSelections, setCurrentSelections] = React.useState([]);
            const [allSelections, setAllSelections] = React.useState({});
            const [timer, setTimer] = React.useState(20);
            const [timerEmoji, setTimerEmoji] = React.useState("üòÉ");
            const [errorDetails, setErrorDetails] = React.useState([]);

            React.useEffect(() => {
                if (gameState !== "PLAYING") return;
                if (timer > 12) setTimerEmoji("üòÉ"); else if (timer > 7) setTimerEmoji("ü§®"); else if (timer > 4) setTimerEmoji("üò¨"); else setTimerEmoji("üò±");
                if (timer === 0) { handleGameOver(false, ["Tempo esgotado!"]); return; }
                const interval = setInterval(() => setTimer(t => t - 1), 1000);
                return () => clearInterval(interval);
            }, [timer, gameState]);

            const startGame = (recipe) => {
                setSelectedRecipe(recipe); setGameState("PLAYING"); setCurrentPhaseIndex(0); setCurrentSelections([]); setAllSelections({}); setTimer(20);
            };

            const handleSelection = (ingredient) => {
                setTimer(20);
                const phase = PHASES[currentPhaseIndex];
                const requiredList = selectedRecipe[phase.key];
                const isCorrect = requiredList.includes(ingredient);
                playSound(isCorrect ? "happy" : "sad");

                const newSelections = [...currentSelections, ingredient];
                setCurrentSelections(newSelections);

                if (newSelections.length === selectedRecipe[phase.key].length) {
                    const updatedAll = { ...allSelections, [phase.key]: newSelections };
                    setAllSelections(updatedAll);
                    if (currentPhaseIndex < PHASES.length - 1) {
                        setTimeout(() => { setCurrentPhaseIndex(prev => prev + 1); setCurrentSelections([]); setTimer(20); }, 300);
                    } else {
                        validateGame(updatedAll);
                    }
                }
            };

            const handleUndo = () => { if (currentSelections.length > 0) { const newSel = [...currentSelections]; newSel.pop(); setCurrentSelections(newSel); } };

            const validateGame = (finalSelections) => {
                let errors = [];
                PHASES.forEach(phase => {
                    const required = [...selectedRecipe[phase.key]].sort();
                    const selected = [...finalSelections[phase.key]].sort();
                    if (JSON.stringify(required) !== JSON.stringify(selected)) errors.push(`Erro em ${phase.title.replace(":", "")}. Era: ${required.join(", ")}`);
                });
                handleGameOver(errors.length === 0, errors);
            };

            const handleGameOver = (success, errors) => {
                if (success) {
                    setGameState("RESULT_SUCCESS"); playSound("happy");
                    confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                    setTimeout(() => setGameState("HOME"), 10000);
                } else {
                    setErrorDetails(errors); setGameState("RESULT_FAIL"); playSound("sad");
                    setTimeout(() => setGameState("HOME"), 20000);
                }
            };

            const getIngredients = (key) => {
                 switch(key) {
                    case 'base': return INGREDIENTS_DB.bases;
                    case 'sauce_base': return INGREDIENTS_DB.sauces_base;
                    case 'greens': return INGREDIENTS_DB.greens;
                    case 'protein': return INGREDIENTS_DB.proteins;
                    case 'sauce_final': return INGREDIENTS_DB.sauces_final;
                    case 'crispy': return INGREDIENTS_DB.crispies;
                    case 'sesame': return INGREDIENTS_DB.sesame;
                    default: return [];
                }
            };

            return (
                <div className="fixed inset-0 w-full h-full font-sans text-slate-800 flex flex-col md:flex-row overflow-hidden">
                    <OceanBackground />
                    
                    {/* MENU LATERAL / SUPERIOR */}
                    <div className={`p-4 md:w-1/4 flex flex-col gap-2 transition-all duration-500 z-10 bg-white/60 backdrop-blur-md border-r border-white/40 shadow-lg
                        ${gameState === "HOME" ? "w-full h-full overflow-y-auto" : "hidden md:flex h-full overflow-y-auto"}
                    `}>
                        <h1 className="text-2xl font-bold mb-4 text-[#404fc2] text-center md:text-left">Poke House <br/><span className="text-lg font-normal">Monte a Bowl ü•ó</span></h1>
                        <div className={`grid gap-3 ${gameState === "HOME" ? "grid-cols-1" : "grid-cols-1"}`}>
                            {RECIPES.map(recipe => (
                                <button key={recipe.id} onClick={() => startGame(recipe)} disabled={gameState === "PLAYING" && selectedRecipe?.id !== recipe.id} className={`p-3 rounded-xl shadow-sm text-left font-semibold transition-all ${selectedRecipe?.id === recipe.id ? "bg-[#7da9e3] text-white scale-105" : "bg-white/80 hover:bg-white text-slate-700"} ${gameState === "PLAYING" && selectedRecipe?.id !== recipe.id ? "opacity-50 hidden md:block" : ""}`}>
                                    {recipe.name}
                                </button>
                            ))}
                        </div>
                    </div>

                    {/* √ÅREA DE JOGO */}
                    <div className={`flex-1 relative z-10 flex flex-col items-center justify-center p-2 md:p-6 ${gameState === "HOME" ? "hidden md:flex" : "flex h-full"}`}>
                        
                        {gameState === "PLAYING" && (
                            <div className="w-full h-full md:h-auto md:max-h-[90vh] max-w-5xl bg-white/85 backdrop-blur-md rounded-xl md:rounded-3xl shadow-xl border border-white/50 animate-fade-in flex flex-col overflow-hidden">
                                
                                {/* HEADER (Fixo) */}
                                <div className="flex justify-between items-center p-4 border-b border-slate-200/50 bg-white/40 shrink-0">
                                    <div>
                                        <h2 className="text-xl md:text-3xl font-bold text-[#404fc2]">{PHASES[currentPhaseIndex].title}</h2>
                                        <p className="text-xs md:text-base text-slate-600">{PHASES[currentPhaseIndex].hint}</p>
                                        <div className="text-xs md:text-sm mt-1 font-bold text-[#7da9e3]">Selecionado: {currentSelections.length} / {selectedRecipe[PHASES[currentPhaseIndex].key].length}</div>
                                    </div>
                                    <div className="flex flex-col items-center min-w-[60px]"><span className="text-3xl md:text-4xl">{timerEmoji}</span><span className="text-xl md:text-2xl font-bold text-[#404fc2]">{timer}s</span></div>
                                </div>

                                {/* LISTA DE INGREDIENTES (Scroll√°vel) */}
                                <div className="flex-1 overflow-y-auto p-2 md:p-6 custom-scroll min-h-0">
                                    <div className={`grid gap-2 md:gap-3 ${PHASES[currentPhaseIndex].key === 'greens' ? 'grid-cols-2 md:grid-cols-4 lg:grid-cols-5' : 'grid-cols-2 md:grid-cols-4'}`}>
                                        {getIngredients(PHASES[currentPhaseIndex].key).map(ing => {
                                            const count = currentSelections.filter(i => i === ing).length;
                                            const isNoLeva = ing === "N√£o leva" || ing === "N√£o";
                                            return (
                                                <button key={ing} onClick={() => handleSelection(ing)} className={`relative p-2 md:p-4 rounded-lg md:rounded-xl font-bold text-xs md:text-sm transition-all active:scale-95 flex items-center justify-center text-center h-20 md:h-24 shadow-sm break-words leading-tight ${isNoLeva ? "bg-[#5b9ed9] text-white" : "bg-white text-slate-700 border-2 border-transparent hover:border-[#7da9e3]"}`}>
                                                    {ing}
                                                    {count > 0 && <span className="absolute -top-2 -right-2 bg-[#404fc2] text-white text-xs w-6 h-6 flex items-center justify-center rounded-full border-2 border-white shadow-md z-10">{count}</span>}
                                                </button>
                                            )
                                        })}
                                    </div>
                                </div>

                                {/* FOOTER (Fixo) */}
                                <div className="p-3 md:p-4 border-t border-slate-200/50 bg-white/40 flex justify-between shrink-0">
                                    <button onClick={() => setGameState("HOME")} className="flex items-center gap-2 text-[#404fc2] font-bold text-sm md:text-base hover:bg-white/50 px-3 py-2 rounded-lg transition-colors"><IconHome size={20}/> IN√çCIO</button>
                                    <button onClick={handleUndo} disabled={currentSelections.length === 0} className="flex items-center gap-2 px-4 md:px-6 py-2 bg-slate-200 rounded-full font-bold text-slate-600 disabled:opacity-50 hover:bg-slate-300 text-sm md:text-base"><IconArrowLeft size={20}/> Desfazer</button>
                                </div>
                            </div>
                        )}

                        {gameState === "RESULT_SUCCESS" && (
                            <div className="text-center p-10 bg-white/90 rounded-3xl shadow-2xl animate-bounce-in mx-4">
                                <h2 className="text-3xl md:text-4xl font-extrabold text-[#03fc8c] mb-4 drop-shadow-sm">Perfeita! ü§©</h2>
                                <p className="text-lg md:text-xl text-slate-700 mb-6">Sua bowl foi montada corretamente!</p>
                                <div className="flex justify-center gap-4 text-4xl animate-pulse"><span>üíñ</span><span>üêü</span><span>ü•ë</span></div>
                            </div>
                        )}

                        {gameState === "RESULT_FAIL" && (
                            <div className="text-center p-6 md:p-10 bg-white/90 rounded-3xl shadow-2xl animate-shake mx-4 max-h-[80vh] overflow-y-auto custom-scroll">
                                <h2 className="text-2xl md:text-3xl font-extrabold text-[#cc3d49] mb-4">Eita... üòï</h2>
                                <p className="text-base md:text-lg text-slate-700 mb-6">Alguns ingredientes est√£o incorretos!</p>
                                <div className="bg-red-50 p-4 rounded-lg text-left text-sm text-red-800 mb-6">{errorDetails.map((e, i) => <div key={i} className="mb-1">‚Ä¢ {e}</div>)}</div>
                                <p className="text-sm text-slate-500">Reiniciando em instantes...</p>
                            </div>
                        )}

                        {gameState === "HOME" && (
                            <div className="hidden md:block text-center bg-white/40 p-8 rounded-xl backdrop-blur-sm">
                                <p className="text-[#404fc2] font-bold text-xl">Selecione uma receita ao lado para come√ßar!</p>
                                <div className="mt-4 text-4xl animate-bounce">ü•ó</div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>
